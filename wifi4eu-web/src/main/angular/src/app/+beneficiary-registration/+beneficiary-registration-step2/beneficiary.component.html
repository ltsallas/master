<div class="ui-g">
    <div class="ui-g-12 center" style="text-align: center !important">
        <div id="component-title">
            <h3>{{ 'registration.beneficiary.title' | translate }}</h3>
        </div>
    </div>
</div>
<div class="ui-g">
    <div class="ui-g-12 center" style="text-align: center !important">
        <div id="component-subtitle">
            <h6>{{ 'registration.step2.instructions' | translate }}</h6>
        </div>
    </div>
</div>
<form (ngSubmit)="onSubmit(2)" #entityForm="ngForm">
    <div class="form-group ui-g">
        <div class="ui-g-3"></div>
        <div class="ui-g-3 center" style="text-align: center !important">
            <label>
                <input type="radio" name="mayor_or_representative"
                       [(ngModel)]="beneficiaryDetails.representativeSelected"
                       [value]="false"> {{ 'immayor.option' |
                translate}}
            </label>
        </div>
        <div class="ui-g-3 center" style="text-align: center !important">
            <label><input type="radio" name="mayor_or_representative"
                          [(ngModel)]="beneficiaryDetails.representativeSelected"
                          [value]="true"> {{
                'imrepresentative.option' | translate}}</label>
        </div>
        <div class="ui-g-3"></div>
    </div>
    <!--
      THIS PART BELOW IS ALWAYS DISPLAYED.
    -->
    <div>
        <div class="ui-g">
            <div class="ui-g-7 center" style="text-align: center !important">
                <hr>
            </div>
        </div>
        <div class="ui-g">
            <div class="ui-g-3"></div>
            <div class="ui-g-6">
                <h3>{{ 'mayordetails.title' | translate }}</h3>
            </div>
            <div class="ui-g-3"></div>
        </div>
        <div class="form-group ui-g">
            <div class="ui-g-3"></div>
            <div class="ui-g-3">
                <label for="treatment">{{ 'treatment.label' | translate
                    }}</label>
                <select class="form-control" name="treatment" id="treatment"
                        [(ngModel)]="beneficiaryDetails.treatment" required>
                    <option value="mr">{{ 'treatment.option1' | translate }}</option>
                    <option value="ms">{{ 'treatment.option2' | translate }}</option>
                </select>
            </div>
            <div class="ui-g-1"></div>
        </div>
        <div class="form-group ui-g">
            <div class="ui-g-3"></div>
            <div class="ui-g-6">
                <label for="name">{{ 'name.label' | translate }}</label>
                <input class="form-control" type="text" name="name" id="name"
                       [(ngModel)]="beneficiaryDetails.name"
                       required>
            </div>
            <div class="ui-g-3"></div>
        </div>
        <div class="form-group ui-g">
            <div class="ui-g-3"></div>
            <div class="ui-g-6">
                <label for="surname">{{ 'surname.label' | translate }}</label>
                <input class="form-control" type="text" name="surname"
                       id="surname"
                       [(ngModel)]="beneficiaryDetails.surname" required>
            </div>
            <div class="ui-g-3"></div>
        </div>
        <div class="form-group ui-g">
            <div class="ui-g-3"></div>
            <div class="ui-g-6">
                <label for="email">{{ 'email.label' | translate }}</label>
                <input class="form-control" type="email" name="email" id="email"
                       [(ngModel)]="beneficiaryDetails.email"
                       (keyup)="checkIfMayorEmailMatches()" required>
                <label for="email" class="field-desc"
                       style="margin-top: 10px;color: gray;">{{
                    'email.fielddesc' |
                    translate }}</label>
            </div>
            <div class="ui-g-3"></div>
        </div>
        <div class="form-group ui-g">
            <div class="ui-g-3"></div>
            <div class="ui-g-6">
                <label for="confirmemail">{{ 'confirmemail.label' | translate
                    }}</label>
                <input class="form-control" type="email" name="confirmemail"
                       id="confirmemail" ngcontrol="confirmemail"
                       #confirmemail="ngModel"
                       [(ngModel)]="beneficiaryDetails.confirmEmail" (keyup)="checkIfMayorEmailMatches()" required>
                <div [hidden]="mayorEmailMatches || confirmemail.pristine"
                     class="alert alert-info">The email
                    information must
                    match
                </div>
            </div>
            <div class="ui-g-3"></div>
        </div>
    </div>
    <!--
      THIS PART BELOW IS DISPLAYED ONLY IF YOU SELECT "I'm a Mayor representative".
    -->
    <div [ngClass]="{'hidden': !beneficiaryDetails.representativeSelected}">
        <div class="ui-g">
            <div class="ui-g-7 center" style="text-align: center !important">
                <hr>
            </div>
        </div>
        <div class="ui-g">
            <div class="ui-g-3"></div>
            <div class="ui-g-6">
                <h3>{{ 'representativedetails.title' | translate }}</h3>
            </div>
            <div class="ui-g-3"></div>
        </div>
        <div class="form-group ui-g">
            <div class="ui-g-3"></div>
            <div class="ui-g-1">
                <label for="treatment_representative">{{ 'treatment.label' |
                    translate }}</label>
                <select class="form-control" name="treatment_representative"
                        id="treatment_representative"
                        [(ngModel)]="beneficiaryDetails.treatmentRepresentative"
                        [required]="beneficiaryDetails.representativeSelected">
                    <option value="mr">{{ 'treatment.option1' | translate }}
                    </option>
                    <option value="ms">{{ 'treatment.option2' | translate }}
                    </option>
                </select>
            </div>
            <div class="ui-g-3"></div>
        </div>
        <div class="form-group ui-g">
            <div class="ui-g-3"></div>
            <div class="ui-g-6">
                <label for="name_representative">{{ 'name.label' | translate
                    }}</label>
                <input class="form-control" type="text"
                       name="name_representative" id="name_representative"
                       [(ngModel)]="beneficiaryDetails.nameRepresentative"
                       [required]="beneficiaryDetails.representativeSelected">
            </div>
            <div class="ui-g-3"></div>
        </div>
        <div class="form-group ui-g">
            <div class="ui-g-3"></div>
            <div class="ui-g-6">
                <label for="surname_representative">{{ 'surname.label' |
                    translate }}</label>
                <input class="form-control" type="text"
                       name="surname_representative" id="surname_representative"
                       [(ngModel)]="beneficiaryDetails.surnameRepresentative"
                       [required]="beneficiaryDetails.representativeSelected">
            </div>
            <div class="ui-g-3"></div>
        </div>
        <div class="form-group ui-g">
            <div class="ui-g-3"></div>
            <div class="ui-g-6">
                <label for="role_municipality">{{ 'role.label' | translate
                    }}</label>
                <input class="form-control" type="text" name="role_municipality"
                       id="role_municipality"
                       [(ngModel)]="beneficiaryDetails.roleRepresentative"
                       [required]="beneficiaryDetails.representativeSelected">
            </div>
            <div class="ui-g-3"></div>
        </div>
        <div class="form-group ui-g">
            <div class="ui-g-3"></div>
            <div class="ui-g-6">
                <label for="email_representative">{{ 'email.label' | translate
                    }}</label>
                <input class="form-control" type="email"
                       name="email-representative" id="email_representative"
                       [(ngModel)]="beneficiaryDetails.emailRepresentative"
                       (keyup)="checkIfRepresentativeEmailMatches()"
                       [required]="beneficiaryDetails.representativeSelected">
                <label for="email_representative" class="field-desc"
                       style="margin-top: 10px;color: gray;">{{
                    'email.fielddesc' | translate }}</label>
            </div>
            <div class="ui-g-3"></div>
        </div>
        <div class="form-group ui-g">
            <div class="ui-g-3"></div>
            <div class="ui-g-6">
                <label for="confirmemail_representative">{{ 'confirmemail.label'
                    | translate }}</label>
                <input class="form-control" type="email"
                       name="confirmemail_representative"
                       id="confirmemail_representative" ngcontrol="confirmemail_representative"
                       #confirmemail_representative="ngModel"
                       [(ngModel)]="beneficiaryDetails.confirmEmailRepresentative"
                       (keyup)="checkIfRepresentativeEmailMatches()"
                       [required]="beneficiaryDetails.representativeSelected">
                <div [hidden]="representativeEmailMatches || confirmemail_representative.pristine"
                     class="alert alert-info">The email
                    information must
                    match
                </div>
            </div>
            <div class="ui-g-3"></div>
        </div>
    </div>
    <!--
      THIS PART BELOW DISPLAYS THE 'Back' AND 'Next' BUTTONS, WHICH ARE ALWAYS SHOWN.
    -->
    <div class="form-group ui-g">
        <div class="ui-g-4"></div>
        <div class="ui-g-2" style="text-align: center !important">
            <button type="button" class="btn" (click)="stepBack(1)">{{ 'back.button' | translate }}</button>
        </div>
        <div class="ui-g-2" style="text-align: center !important">
            <button type="submit" class="btn btn-primary"
                    [disabled]="!entityForm.form.valid || !allEmailsMatch()">{{
                'next.button' |
                translate }}
            </button>
        </div>
        <div class="ui-g-4"></div>
    </div>
</form>
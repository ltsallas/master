<div class="ui-g">
	<div class="ui-lg-3"></div>
	<div class="ui-lg-6 abac--container">
		<h1>Abac</h1>
		<div class="abac--exporter">
			<p>Export Publications appliers information.
				<i class="fa fa-check" aria-hidden="true" *ngIf="isExportSuccessful && showExportIcon"></i>
				<i class="fa fa-times" aria-hidden="true" *ngIf="!isExportSuccessful && showExportIcon"></i>
				<i class="fa fa-spinner" aria-hidden="true" *ngIf="isExportLoading"></i>
			</p>
			<button class="btn btn-primary" (click)="onExportButton()">
				Export
            </button>
			<p *ngIf="exportErrorMessage"><span class="error--message">Error:</span> {{ exportErrorMessage }}</p>
		</div>
		<div class="abac--validator">
			<p>Import Abac validations results
				<i class="fa fa-check" aria-hidden="true" *ngIf="isImportSuccessful && showImportIcon"></i>
				<i class="fa fa-times" aria-hidden="true" *ngIf="!isImportSuccessful && showImportIcon"></i>
				<i class="fa fa-spinner" aria-hidden="true" *ngIf="isImportLoading"></i>
			</p>
			<input type="file" id="abacValidationFile" (change)="onFileSelection($event)" accept=".json,application/json">
			<p *ngIf="importErrorMessage"><span class="error--message">Error:</span> {{ importErrorMessage }}</p>
		</div>
	</div>
	<div class="ui-lg-3"></div>
</div>
<div class="ui-g">
	<div class="ui-lg-2"></div>
	<div class="ui-lg-8 abac--table">
		<h1>Publication appliers</h1>
		<div class="abac--table--container">
			<div class="publication--selector">
				<select (change)="onPublicationChange($event.target.value)">
					<option>-- Select publication</option>
					<option *ngFor="let pub of publications; let i = index" value="{{ pub.key }}">
						{{ pub.value }}
					</option>
					
				</select>
			</div>
			<div class="abac--table--results" *ngIf="tableAppliers">
				<table class="table table-striped">
					<thead>
						<tr>
							<th>Beneficiary</th>
							<th>Supplier</th>
							<th>Budged Commited</th>
							<th>Budged Linked</th>
							<th>Awarded</th>
							<th>Last Abac Operation Message</th>
						</tr>
					</thead>
					<tbody>
						<tr *ngFor="let applier of tableAppliers">
							<td>{{ applier.beneficiaryName }}</td>
							<td *ngIf="applier.supplierName">
								{{ applier.supplierName }}
							</td>
							<td *ngIf="!applier.supplierName">
								<i>Not selected</i>
							</td>
							<td>{{ applier.isBudgedCommited }}</td>
							<td>{{ applier.isBudgedLinked }}</td>
							<td>{{ applier.isAwarded }}</td>
							<td>{{ applier.lastAbacMessage }}</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
	<div class="ui-lg-2"></div>
</div>

